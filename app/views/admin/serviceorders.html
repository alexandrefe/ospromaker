{% extends 'admin/master.html' %}

{% block content %}


<div class="container-fluid">
    <div class="row mt-5">
        <div class="col-12 pb-3">
            <h3 class="title">{{subtitle}}</h3>
            <hr>
        </div>
    </div>   
</div>  

<div class="container-fluid">
	<div class="row mt-3 pb-3">
		 <div class="col-3">
	      	<form action="/admin/serviceorders" method="GET" class="d-flex">
	        	<input class="form-control me-2" name="search" type="search" placeholder="Pesquise..." aria-label="Search"/>
	        	<button type="submit" class="btn bg btn-dark px-4"><i class="fas fa-search">&nbsp;</i></button>
	      </form>
   		 </div>
	</div>
</div>

<div class="container-fluid">
	<div class="row mt-3">

		{% for serviceorder in serviceorders %}
		<div class="col-11 pb-3">
			<div class="card shadow mb-3 bg-body">
			  	  <div class="card-header text-light bg-dark border-0 d-inline-flex justify-content-between">
					  	<div class="d-flex">
					  		<p class="text-capitalize"><span class="fw-bold">Título</span>: {{serviceorder.title}}</p>
					  	</div>
					  	<div class="d-flex">
					  		<p><span class="fw-bold">Cliente</span>: {{serviceorder.name}}</p>
					  	</div>
					  	<div class="d-flex">
					  		<p><span class="fw-bold">Status</span>: {{serviceorder.status}}</p>
					  	</div>
					  	<div class="d-flex">
					  		<p><span class="fw-bold">Data Início</span>: {{serviceorder.created_at}}</p>
					  	</div>
					  	<div class="d-flex">
					  		<p><span class="fw-bold">Data Final</span>: {{serviceorder.final_date}}</p>
					  	</div>
					  	<div class="d-flex">
					  		<p><span class="fw-bold">ID</span>: {{serviceorder.id}}</p>
					  	</div>
				  </div>

				  <div class="card-body d-flex flex-column">

				  	

				  	<table class="table bg-light table-bordered table-hover">
					  <thead>
					    <tr>
					      <th scope="col">Laudo Técnico</th>
					      <th scope="col">Descrição</th>
					      <th scope="col">Problema</th>
					      <th scope="col">Observação</th>
					      <th scope="col">CPF Cliente</th>
					      <th scope="col">Tel. Cliente</th>
					    </tr>
					  </thead>
					  <tbody>
					    <tr>
					      <td>{{serviceorder.technical_report}}</td>
					      <td>{{serviceorder.description}}</td>
					      <td>{{serviceorder.problem}}</td>
					      <td>{{serviceorder.observation}}</td>
					      <td>{{serviceorder.cpf}}</td>
					      <td>{{serviceorder.tel}}</td>
					    </tr>
					  </tbody>
					</table>


					<div class="d-flex justify-content-end">
				  			<div class="col-1 pb-3">
						  		<div class="d-flex justify-content-between">
							  		<div>
							  			<form>
							                <button data-title = "Você tem certeza?" data-text = "Esta OS sera apagada permanentemente!" 
							                data-redirect = "/admin/serviceorders" data-id="{{serviceorder.id}}" type="submit" class="btn botao-deletar btn-danger btn-sm">
							                <i class="fas fa-trash-alt"></i></button>
							             </form>
							  		</div>

							  		<div>
							  			<a href="/admin/serviceorders/updateform/{{serviceorder.id}}">
							              <button class="btn btn-warning btn-sm"><i class="fas fa-edit"></i></button>
							            </a>
							  		</div>

							  		<div>
							  			<a href="">
							              <button class="btn btn-primary btn-sm"><i class="fas fa-print"></i></button>
							            </a>
							  		</div>
						  		</div>
						  	</div>
				  	</div>

				  </div>
			</div>
		</div>
		{% endfor %}

		 <nav aria-label="Page navigation">
	        {{ links | raw }}
	     </nav>

	</div>
</div>
    
{% endblock %}


